<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Texas Hold’em Table</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <!-- Preload heavy images -->
  <link rel="preload" href="assets/table_felt.jpg" as="image">
  <link rel="preload" href="assets/cards/ace_of_spades.png" as="image">
  <link rel="preload" href="assets/cards/king_of_hearts.png" as="image">
  <link rel="preload" href="assets/cards/card_back.png" as="image">

  <style>
    :root{
      /* One knob to rule them all – everything scales from this */
      --card-w: clamp(40px, 10vw, 80px);
      --card-h: calc(var(--card-w) * 726 / 500);
      --gap:   calc(var(--card-w) * .05);
      --radius: clamp(60px, 12vw, 150px);
      --felt-pad: 4%;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      background:radial-gradient(circle at 50% 30%,#1a1a1a 0%,#0a0a0a 100%);
      font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
      overflow-x:hidden;
    }

    /* ---------- Table shell ---------- */
    .table-shell{
      position:relative;
      width:min(90vw, 160vh);
      aspect-ratio:2 / 1;
      min-width:300px;
    }

    .table{
      width:100%;
      height:100%;
      border-radius:var(--radius);
      background:
        linear-gradient(135deg,rgba(255,255,255,.1),rgba(0,0,0,.3)),
        radial-gradient(circle at 50% 20%,#254b33 0%,#1e4d2b 100%);
      box-shadow:
        0 12px 30px rgb(0 0 0 / .8),
        inset 0 0 20px rgb(255 255 255 / .15),
        inset 0 0 30px rgb(0 0 0 / .6);
      position:relative;
    }

    /* Felt layer */
    .felt{
      position:absolute;
      inset:var(--felt-pad);
      border-radius:calc(var(--radius) - var(--felt-pad));
      background:url("assets/table_felt.jpg") center/cover, #2a6041;
      box-shadow:inset 0 0 15px rgb(0 0 0 / .7);
      overflow:visible;
    }

    /* ---------- Players & seats ---------- */
    .seat{
      position:absolute;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:calc(var(--card-h) * .15);
      color:#fff;
      font-size:clamp(.75rem, 2vw, 1rem);
      pointer-events:none;          /* cards will handle clicks later */
    }
    .seat.bottom{bottom:0;left:50%;transform:translateX(-50%);}
    .seat.top   {top:0;   left:50%;transform:translateX(-50%);}
    .seat.left  {left:0;  top:50%;transform:translateY(-50%);}
    .seat.right {right:0; top:50%;transform:translateY(-50%);}

    .player-label{
      background:rgba(255 255 255 /.1);
      border:1px solid #4a4a4a;
      padding:.25em .75em;
      border-radius:1em;
    }

    /* ---------- Cards ---------- */
    .card{
      width:var(--card-w);
      height:var(--card-h);
      border-radius:calc(var(--card-w) * .1);
      background:#fff center/contain no-repeat;
      box-shadow:0 2px 6px rgb(0 0 0 /.4);
      flex-shrink:0;
    }
    .hand{
      display:flex;
      gap:var(--gap);
    }

    /* Community board */
    .board{
      position:absolute;
      top:50%;left:50%;
      transform:translate(-50%,-50%);
      display:flex;
      gap:var(--gap);
      padding:calc(var(--card-h) * .1);
      background:rgba(0 0 0 /.2);
      border-radius:calc(var(--card-w) * .3);
    }

    /* Dealer / blind buttons */
    .button{
      position:absolute;
      width:calc(var(--card-w) * .45);
      height:calc(var(--card-w) * .45);
      border-radius:50%;
      background:#ddd;
      color:#000;
      font-size:calc(var(--card-w) * .22);
      font-weight:bold;
      display:grid;
      place-content:center;
      box-shadow:0 2px 4px rgb(0 0 0 /.4);
    }
    .button.dealer{bottom:calc(100% + var(--gap));left:50%;transform:translateX(-50%);}
    .button.sb{left:calc(100% + var(--gap));top:50%;transform:translateY(-50%);}
    .button.bb{top:calc(100% + var(--gap));left:50%;transform:translateX(-50%);}

    /* ---------- Responsive fine-tuning ---------- */
    @media (max-width:600px){
      :root{--card-w:clamp(30px, 12vw, 50px);}
    }
  </style>
</head>
<body>

  <div class="table-shell">
    <div class="table">
      <div class="felt">

        <!-- Community cards -->
        <div class="board" role="region" aria-label="Community cards">
          <img class="card" src="assets/cards/2_of_clubs.png"   alt="2 of clubs">
          <img class="card" src="assets/cards/queen_of_diamonds.png" alt="Queen of diamonds">
          <img class="card" src="assets/cards/7_of_hearts.png"   alt="7 of hearts">
          <img class="card" src="assets/cards/10_of_spades.png"  alt="10 of spades">
          <img class="card" src="assets/cards/4_of_diamonds.png" alt="4 of diamonds">
        </div>

        <!-- Seats (players) -->
        <div class="seat bottom">
          <div class="hand">
            <img class="card" src="assets/cards/ace_of_spades.png" alt="Ace of spades">
            <img class="card" src="assets/cards/king_of_hearts.png" alt="King of hearts">
          </div>
          <span class="player-label">You</span>
          <div class="button dealer" aria-label="Dealer button">D</div>
        </div>

        <div class="seat left">
          <div class="hand">
            <img class="card" src="assets/cards/card_back.png" alt="Hidden card">
            <img class="card" src="assets/cards/card_back.png" alt="Hidden card">
          </div>
          <span class="player-label">AI 1</span>
          <div class="button sb" aria-label="Small blind">SB</div>
        </div>

        <div class="seat top">
          <div class="hand">
            <img class="card" src="assets/cards/card_back.png" alt="Hidden card">
            <img class="card" src="assets/cards/card_back.png" alt="Hidden card">
          </div>
          <span class="player-label">AI 2</span>
          <div class="button bb" aria-label="Big blind">BB</div>
        </div>

        <div class="seat right">
          <div class="hand">
            <img class="card" src="assets/cards/card_back.png" alt="Hidden card">
            <img class="card" src="assets/cards/card_back.png" alt="Hidden card">
          </div>
          <span class="player-label">AI 3</span>
        </div>

      </div>
    </div>
  </div>

  <!-- Optional: tiny ES-module to swap cards dynamically
  <script type="module">
    // Example: reveal AI 1 after 3 s
    setTimeout(()=>{
      document.querySelector('.seat.left .hand').innerHTML = `
        <img class="card" src="assets/cards/7_of_clubs.png" alt="7 of clubs">
        <img class="card" src="assets/cards/ace_of_diamonds.png" alt="Ace of diamonds">
      `;
    },3000);
  </script>
  -->
</body>
</html>